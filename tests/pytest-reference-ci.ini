[pytest]
junit_family=legacy
usefixtures = enable_reference_mode

# Option -nX is count of parallel tests threads count
addopts = -n2 --force-flaky --max-runs=2 --tb=auto --junitxml=output/report.xml --html=output/report.html --self-contained-html --alluredir=output/allure-results

# Cli logs activate with 1 thread count (-n0)
log_cli = 1
# Use DEBUG level for more info
log_cli_level = WARNING
log_cli_format = %(asctime)s [%(levelname)s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format=%Y-%m-%d %H:%M:%S

env =
    # Set to 'FROM_ENV' or set empty for getting host url from CI/CD ENV (CI_TESTING_HOST_URL)
    TESTING_HOST_URL=FROM_ENV
    # WAITING_DEFAULT_TIMEOUT=
    # Set to special browser version, like '80.0' or set 'DEFAULT' for using default version in Selenoid or GGR
    BROWSER_VERSION=DEFAULT
    HEADLESS_MODE=True
    # REMOTE || LOCAL || http://your-selenoid-host:4444/wd/hub
    SELENOID_PLAYBACK_TYPE=REMOTE
    SEND_METRICS=True
